<div class="form-clientes">
  <h2 class="mb-4">Nuevo Cliente</h2>

  <form (ngSubmit)="guardarCliente()" #clienteForm="ngForm" class="needs-validation" novalidate>

    <div class="row g-3">

      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Nombres</mat-label>
          <input matInput name="nombre" [(ngModel)]="cliente.nombre" required #nombre="ngModel" />
          <mat-error *ngIf="nombre.invalid && nombre.touched">El nombre es requerido</mat-error>
        </mat-form-field>
      </div>

      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Apellidos</mat-label>
          <input matInput name="apellidos" [(ngModel)]="cliente.apellidos" required #apellidos="ngModel" />
          <mat-error *ngIf="apellidos.invalid && apellidos.touched">Los apellidos son requeridos</mat-error>
        </mat-form-field>
      </div>

      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Teléfono</mat-label>
          <input matInput name="telefono" [(ngModel)]="cliente.telefono" type="tel" />
        </mat-form-field>
      </div>

      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Email</mat-label>
          <input matInput name="email" [(ngModel)]="cliente.email" type="email" #email="ngModel" />
          <mat-error *ngIf="email.invalid && email.touched">Email inválido</mat-error>
        </mat-form-field>
      </div>

      <!-- Aquí cambio input por select para tipoDocumento -->
      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Tipo Documento</mat-label>
         <mat-select name="tipoDocumento" [(ngModel)]="cliente.tipoDocumento" required #tipoDocumento="ngModel">
            <mat-option value="DNI">DNI</mat-option>
            <mat-option value="RUC">RUC</mat-option>
          </mat-select>
          <mat-error *ngIf="tipoDocumento.invalid && tipoDocumento.touched">Seleccione un tipo de documento</mat-error>
        </mat-form-field>
      </div>

      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Nro Documento</mat-label>
<input
  matInput
  name="documento"
  [(ngModel)]="cliente.documento"
  required
  #documento="ngModel"
  (ngModelChange)="onDocumentoChange($event)"
/>          <mat-error *ngIf="documento.invalid && documento.touched">El número de documento es requerido</mat-error>
        </mat-form-field>
      </div>

      <!-- Nuevo campo dirección -->
      <div class="col-md-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Dirección</mat-label>
          <input matInput name="direccion" [(ngModel)]="cliente.direccion" />
        </mat-form-field>
      </div>

    </div>

    <div class="mt-4 d-flex justify-content-end gap-3">
      <button mat-raised-button color="primary" type="submit" [disabled]="clienteForm.invalid">Guardar</button>
      <button mat-stroked-button color="warn" type="button" (click)="cancelar()">Cancelar</button>
    </div>

  </form>
</div>
